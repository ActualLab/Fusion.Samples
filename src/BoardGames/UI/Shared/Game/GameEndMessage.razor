@{
    var splitMessage = Message.Split('|');
}

<Note Title="Game ended!">
    @foreach(var part in splitMessage) {
        if (part.StartsWith("@p")) {
            var playerIndex = int.Parse(part.Substring(2));
            <GameUserBadge User="@(OrderedUsers[playerIndex])" />
        } else {
            @part
        }
    }
</Note>

@code {
    [Parameter]
    public string Message { get; set; } = "";
    [Parameter]
    public ImmutableList<GameUser> OrderedUsers { get; set; } = ImmutableList<GameUser>.Empty;
}
